<Window x:Class="jpmc_genai.EditTestCaseWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Edit Test Case Steps"
        Height="720" Width="1000"
        Background="#FAF9F6"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        FontFamily="Segoe UI">

    <Window.Resources>
        <SolidColorBrush x:Key="Gold" Color="#D4AF37"/>
        <SolidColorBrush x:Key="LightGold" Color="#FFF8F0"/>
        <SolidColorBrush x:Key="DarkText" Color="#333"/>
        <SolidColorBrush x:Key="BorderBrush" Color="#E2E1DC"/>

        <Style x:Key="GoldButton" TargetType="Button">
            <Setter Property="Background" Value="#D4AF37"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <Style x:Key="RedButton" TargetType="Button" BasedOn="{StaticResource GoldButton}">
            <Setter Property="Background" Value="#E74C3C"/>
        </Style>

        <Style x:Key="CancelButton" TargetType="Button">
            <Setter Property="Background" Value="#999"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>
    </Window.Resources>


    <Border Margin="28" Background="White" CornerRadius="24" BorderBrush="#E2E1DC" BorderThickness="1">
        <Grid Margin="36">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Title -->
            <TextBlock x:Name="IdLbl"
                       Grid.Row="0"
                       FontSize="28"
                       FontWeight="Bold"
                       Foreground="#D4AF37"
                       Margin="0,0,0,20"/>

            <!-- Buttons -->
            <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,24">
                <Button Content="Add Step"
                        Style="{StaticResource GoldButton}"
                        Width="160"
                        Click="AddStep_Click"/>
                <Button Content="Delete Selected Step"
                        Style="{StaticResource RedButton}"
                        Width="200"
                        Margin="12,0,0,0"
                        Click="DeleteStep_Click"/>
            </StackPanel>

            <!-- The GRID YOU ARE MISSING -->
            <Border Grid.Row="2" Background="White" CornerRadius="18" BorderBrush="#E2E1DC" BorderThickness="1">
                <DataGrid x:Name="StepsGrid"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False">

                    <DataGrid.Columns>

                        <DataGridTextColumn Header="Step No"
                                            Binding="{Binding StepNo}"
                                            IsReadOnly="True"
                                            Width="0.5*"/>

                        <DataGridTextColumn Header="Step Description"
                                            Binding="{Binding Step}"
                                            Width="2*"/>

                        <DataGridTextColumn Header="Test Data / Parameters"
                                            Binding="{Binding TestDataText}"
                                            Width="1.5*"/>

                    </DataGrid.Columns>

                </DataGrid>
            </Border>

            <!-- Footer -->
            <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,32,0,8">
                <Button Content="Save Changes"
                        Style="{StaticResource GoldButton}"
                        Width="160"
                        Click="Save_Click"/>
                <Button Content="Cancel"
                        Style="{StaticResource CancelButton}"
                        Width="140"
                        Margin="12,0,0,0"
                        Click="Cancel_Click"/>
            </StackPanel>

        </Grid>
    </Border>
</Window>
