<Window x:Class="JPMCGenAI_v1._0.ExecutionLogsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Live Execution Logs" Height="700" Width="900"
        Background="#1E1E1E" Foreground="Black"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#2D2D2D" Padding="15">
            <StackPanel>
                <TextBlock Text="Execution Live Logs" FontSize="18" FontWeight="Bold" Foreground="Black" Margin="0,0,0,5"/>
                <TextBlock x:Name="TestCaseInfoTextBlock" Foreground="Black" FontSize="12"/>
                <TextBlock x:Name="StatusTextBlock" Foreground="Black" FontSize="12" Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- Added method selection panel -->
        <Border x:Name="MethodSelectionPanel" 
                Grid.Row="1" 
                Background="#2D2D2D" 
                Margin="10,0,10,10"
                CornerRadius="5"
                BorderBrush="#444"
                BorderThickness="1"
                Padding="15"
                Visibility="Hidden">
            <StackPanel>
                <TextBlock Text="Available Reusable Methods" FontSize="14" FontWeight="Bold" Foreground="Black" Margin="0,0,0,10"/>
                <TextBlock x:Name="MethodsMessageTextBlock" Foreground="Black" FontSize="11" Margin="0,0,0,10"/>
                <ListBox x:Name="MethodsListBox" 
                         Background="#1E1E1E" 
                         Foreground="#00FF00"
                         BorderThickness="1"
                         BorderBrush="#444"
                         Height="150"
                         Margin="0,0,0,10">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Margin="5">
                                <TextBlock Text="{Binding signature}" FontWeight="Bold" Foreground="#00FF00"/>
                                <TextBlock Text="{Binding intent}" Foreground="#90EE90" FontSize="10" Margin="0,2,0,0"/>
                                <TextBlock Text="{Binding match_display}" Foreground="#FFD700" FontSize="9" Margin="0,2,0,0"/>
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button x:Name="ConfirmSelectionButton" 
                            Content="Confirm &amp; Execute" 
                            Padding="10,5" 
                            Background="#28A745" 
                            Foreground="Black"
                            Click="ConfirmSelectionButton_Click"
                            Cursor="Hand"
                            Margin="0,0,10,0"/>
                    <Button x:Name="SkipMethodsButton" 
                            Content="Skip Methods" 
                            Padding="10,5" 
                            Background="#FFC107" 
                            Foreground="Black"
                            Click="SkipMethodsButton_Click"
                            Cursor="Hand"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Logs Display -->
        <Border Grid.Row="2" Background="#2D2D2D" Margin="10" CornerRadius="5" BorderBrush="#444" BorderThickness="1">
            <TextBox x:Name="LogsTextBox" 
                     Background="#1E1E1E" 
                     Foreground="#00FF00"
                     FontFamily="Consolas"
                     FontSize="11"
                     IsReadOnly="True"
                     VerticalScrollBarVisibility="Auto"
                     HorizontalScrollBarVisibility="Auto"
                     Padding="10"
                     TextWrapping="Wrap"/>
        </Border>

        <!-- Footer with Buttons -->
        <Border Grid.Row="3" Background="#2D2D2D" Padding="15">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:Name="CopyLogsButton" 
                        Content="Copy Logs" 
                        Padding="10,5" 
                        Background="#0078D4" 
                        Foreground="Black"
                        Click="CopyLogsButton_Click"
                        Cursor="Hand"
                        Margin="0,0,10,0"/>
                <Button x:Name="ClearLogsButton" 
                        Content="Clear Logs" 
                        Padding="10,5" 
                        Background="#FF6B6B" 
                        Foreground="Black"
                        Click="ClearLogsButton_Click"
                        Cursor="Hand"
                        Margin="0,0,10,0"/>
                <Button x:Name="CloseButton" 
                        Content="Close" 
                        Padding="10,5" 
                        Background="#6C757D" 
                        Foreground="Black"
                        Click="CloseButton_Click"
                        Cursor="Hand"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
